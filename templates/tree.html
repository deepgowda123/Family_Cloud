{% extends "layout.html" %}
{% block content %}
<h4>Family Tree</h4>

<style>
.tree ul { list-style-type: none; margin-left: 20px; padding-left: 10px; border-left: 1px dashed #ccc; }
.tree li { margin: 6px 0; }
</style>

<div class="tree">
  {% macro render_node(node) %}
    <li>
      <strong>{{ node.name }}</strong> <small class="text-muted"> (gen {{ node.generation }})</small>
      {% if node.children %}
        <ul>
          {% for child in node.children %}
            {{ render_node(child) }}
          {% endfor %}
        </ul>
      {% endif %}
    </li>
  {% endmacro %}

  <ul>
    {% for root in roots %}
      {{ render_node(root) }}
    {% endfor %}
  </ul>
</div>

{% endblock %}
